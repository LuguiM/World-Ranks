import{r as n,w as D,o as T,b as A,d,t as b,k as r,l as f,m as c,a as w,F as q,h as E,q as G,j as $,s as O}from"./index-DFoD-9j3.js";const z={class:"flex flex-col md:grid md:grid-cols-3 grid-flow-col md:gap-6 m-1 md:m-3 xl:m-14 p-1 sm:p-3"},H={class:"flex flex-col gap-y-4"},J={class:"text-color4"},K={class:"my-3"},Q={class:"col-span-12"},W=["src","alt","onClick"],X=["onClick"],ee={__name:"allCountries",setup(Y){const P=O(),u=n(1),m=n(0),p=n([]),v=n(),h=n([]),C=n("Population"),U=["Population","Area","Alphabetical order"],B=n(["Americas","Antarctic","Africa","Asia","Europe","oceania"]),S=n([{title:"Flag",key:"flags",align:"start"},{title:"Name",key:"name",align:"end"},{title:"Population",key:"population",align:"start"},{title:"Area km<sup>2</sup>",key:"area",align:"start"},{title:"Region",key:"region",align:"end"}]),i=n([]),o=n([]),_=async()=>{const e=await(await fetch("https://restcountries.com/v3.1/all?fields=flags,name,population,area,region,subregion,independent,unMember")).json();i.value=e,o.value=i.value,g(),k(),m.value=o.value.length},g=()=>{o.value.sort((a,e)=>{let t,s;switch(C.value){case"Population":return t=a.population||0,s=e.population||0,s-t;case"Area":return t=a.area||0,s=e.area||0,s-t;case"Alphabetical order":return t=a.name.common.toLowerCase(),s=e.name.common.toLowerCase(),t<s?-1:t>s?1:0}}),u.value=1},k=()=>{const a=h.value.map(e=>e.toLowerCase());a.length>0?o.value=i.value.filter(e=>a.includes(e.region.toLowerCase())):o.value=[...i.value],m.value=o.value.length,u.value=1,g()},N=()=>{const a=p.value.map(e=>e);a.length>0?o.value=i.value.filter(e=>a.includes("independent")&&e.independent===!0||a.includes("unMember")&&e.unMember===!0):o.value=i.value,m.value=o.value.length,u.value=1},x=()=>{const a=v.value.toLocaleLowerCase();if(a!=""){o.value=i.value.filter(e=>e.name.common.toLocaleLowerCase().includes(a)||e.region.toLocaleLowerCase().includes(a)||e.subregion.toLocaleLowerCase().includes(a)),m.value=o.value.length,u.value=1,g();return}_()},y=a=>{P.push("country/"+a)};return D(p,N,{deep:!0}),T(()=>{_()}),(a,e)=>{const t=c("Input"),s=c("Dropdown"),I=c("Chip"),M=c("ChipGroup"),L=c("Checkbox"),R=c("Table"),F=c("Pagination");return w(),A("div",z,[d("div",H,[d("h3",J,"Found "+b(m.value)+" countries",1),r(t,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=l=>v.value=l),placeholder:"Search by Name, Region, Subregion","prepend-inner-icon":"search",class:"md:hidden justify-self-end w-[19rem] md:w-[22rem]",onInput:x},null,8,["modelValue"]),r(s,{label:"Sort by",placeholder:"Population",class:"md:pt-10",modelValue:C.value,"onUpdate:modelValue":e[1]||(e[1]=l=>C.value=l),items:U,onClick:g},null,8,["modelValue"]),r(M,{class:"mt-6",modelValue:h.value,"onUpdate:modelValue":e[2]||(e[2]=l=>h.value=l),multiple:!0,label:"Region"},{default:f(()=>[(w(!0),A(q,null,E(B.value,l=>(w(),G(I,{class:"mx-2","active-class":"chipClass",variant:"text",value:l,onClick:k},{default:f(()=>[$(b(l),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),d("div",K,[e[8]||(e[8]=d("p",{class:"text-color4 text-sm mb-3"},"Status",-1)),r(L,{label:"Member of the United Nations",value:"unMember",modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=l=>p.value=l)},null,8,["modelValue"]),r(L,{label:"Independent",value:"independent",modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=l=>p.value=l)},null,8,["modelValue"])])]),d("div",Q,[r(t,{modelValue:v.value,"onUpdate:modelValue":e[5]||(e[5]=l=>v.value=l),placeholder:"Search by Name, Region, Subregion","prepend-inner-icon":"search",class:"hidden md:flex justify-self-end mb-10 md:w-[22rem]",onInput:x},null,8,["modelValue"]),r(R,{headers:S.value,items:o.value,page:u.value,"onUpdate:page":e[6]||(e[6]=l=>u.value=l),"items-per-page":10},{flags:f(({entity:l,common:V})=>[d("img",{src:l.svg,alt:l.alt,class:"w-[4rem] me-8 aspect-video rounded-lg cursor-pointer",onClick:j=>y(V)},null,8,W)]),name:f(({entity:l,common:V})=>[d("span",{onClick:j=>y(V),class:"cursor-pointer"},b(l.common),9,X)]),_:1},8,["headers","items","page"]),r(F,{modelValue:u.value,"onUpdate:modelValue":e[7]||(e[7]=l=>u.value=l),perPage:10,total:m.value},null,8,["modelValue","total"])])])}}};export{ee as default};
